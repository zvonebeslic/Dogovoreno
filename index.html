<!doctype html>
<html lang="hr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Dogovoreno.com — Nađi majstora, dogovori posao</title>
  <meta name="description" content="Tvoja veza do pouzdanog majstora. Objavi potrebu ili ponudi uslugu i dogovori posao.">

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="base.css">
  <style>
    :root{
      --bg:#0f1115; --ink:#f7f8fa; --muted:#c7cbd4; --cta:#2563eb; --cta2:#ea580c;
      --glass:rgba(255,255,255,.08); --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:14px; --header-h:35px; --slogan-h:40px; --promos-h:120px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
    a{color:inherit;text-decoration:none}

    /* Cijela stranica = 100svh (stabilni mobilni viewport) */
    .page{height:97svh;display:grid;grid-template-rows:var(--header-h) 1fr var(--slogan-h) var(--promos-h);overflow:hidden}

    .hero{position:relative;overflow:hidden;isolation:isolate}
    .hero::after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom, rgba(0,0,0,.10), rgba(0,0,0,.18));z-index:1;pointer-events:none}
    .slides{position:absolute;inset:0;pointer-events:none}
    .slide{position:absolute;inset:0;opacity:0;transform:translateX(100%);transition:transform 900ms cubic-bezier(.2,.8,.2,1),opacity 900ms ease;will-change:transform,opacity;filter:brightness(.92) contrast(1.03);overflow:hidden}
    .slide .img{position:absolute;inset:0;background-size:cover;background-position:center;transform:scale(1)}
    .slide.current{transform:translateX(0);opacity:1}
    .slide.leaving{transform:translateX(-100%);opacity:0}
    .slide.current .img{animation:kenburns 5s linear forwards}
    @keyframes kenburns{from{transform:scale(1)} to{transform:scale(1.02)}}

    .duo-wrap{position:relative;z-index:2;height:100%;display:grid;place-items:end center}
    .duo{position:relative;max-width:min(92vw, 720px);width:100%;aspect-ratio:1.3/1;display:grid;place-items:center}
    .duo img{width:100%;height:100%;object-fit:contain;pointer-events:none;user-select:none;filter:drop-shadow(0 14px 30px rgba(0,0,0,.45))}

    .cta-row{position:absolute;left:0;right:0;bottom:12px;display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:0 6%}
    .cta{display:inline-flex;align-items:center;justify-content:center;padding:12px 10px;border-radius:12px;font-weight:700;letter-spacing:.2px;box-shadow:var(--shadow);border:0}
    #btn-trazim{background:var(--cta);color:#fff}
    #btn-nudim{background:var(--cta2);color:#fff}

    .slogan{display:grid;place-items:center;text-align:center;padding:0 16px;background:linear-gradient(to top, rgba(255,255,255,.04), rgba(255,255,255,0))}
    .slogan p{margin:0;color:#ffffff;font-size:14px}

    
/* ===== TOP PROMO (OVERLAY – NE GURA) ===== */
:root{
  --header-h: 35px;   /* visina tvog headera; po potrebi promijeni */
  --promo-h: 130px;   /* visina bannera (C verzija ~100–140px) */
}

.promo-banner{
  position: fixed;
  z-index: 40;                 /* ispod sticky headera (koji je z-index:50) */
  top: var(--header-h);
  left: 0; right: 0;

  height: var(--promo-h);
  background: var(--field, #0e1014);
  border-bottom: 1px solid rgba(255,255,255,.08);

  transform: translateY(-100%);  /* skriven iznad */
  opacity: 0;
  transition: transform .35s ease, opacity .35s ease;
  pointer-events: none;           /* dok je skriven, ne hvata klikove */
}

.promo-banner.open{
  transform: translateY(0);       /* klizne dolje */
  opacity: 1;
  pointer-events: auto;
}

.promo-inner{
  position: relative;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 16px;
  height:100%;
}

.promo-content{
  color:var(--ink,#f7f8fa);
  line-height:1.35;
  font-size:clamp(14px, 1.9vw, 16px);
}

.promo-toggle{
  position: absolute;
  bottom: 7px;
  right: 7px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:25px;
  height:25px;
  border-radius:10px;
  border:1px solid var(--fieldBorder, rgba(255,255,255,.12));
  background:var(--glass, rgba(255,255,255,.08));
  color:var(--ink,#ffffff);
  cursor:pointer;
  transition:filter .15s ease, transform .15s ease;
}
.promo-toggle:hover{ filter:brightness(1.08); }
.promo-toggle:active{ transform:translateY(1px); }



  /* DONJI SLIDER IZMEĐU SLOGANA I FOOTERA */
.section-promos{
  position:relative;
  overflow:hidden;
  background:rgba(255,255,255,.03);
  border-top:1px solid rgba(255,255,255,.06);
  border-bottom:1px solid rgba(255,255,255,.06);
}

/* po želji: fiksna minimalna visina (ukloni ako ne treba) */
.section-promos{ min-height:84px; }

.ads-viewport{
  position:relative;
  overflow:hidden;
  height:130px;
  min-height:inherit;
}

/* kartica oglasa = cijeli klikabilni link */
.ad-card{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  gap:14px;
  padding:12px 16px;
  color:var(--ink,#f7f8fa);
  text-decoration:none;
  line-height:1.4;
  font-size:clamp(14px, 1.9vw, 16px);
}

/* animacijska stanja */
.ad-enter{ transform:translateX(-100%); opacity:.95; }
.ad-enter.ad-animate{ transform:translateX(0); opacity:1; transition:transform .45s ease, opacity .45s ease; }

.ad-leave{ transform:translateX(0); opacity:1; }
.ad-leave.ad-animate{ transform:translateX(100%); opacity:0; transition:transform .45s ease, opacity .45s ease; }

/* opcionalni CTA gumbić unutar oglasa */
.ad-cta{
  display:inline-block; padding:6px 10px;
  border:1px solid rgba(255,255,255,.18); border-radius:10px;
  text-decoration:none; color:var(--ink,#f7f8fa); font-weight:600; white-space:nowrap;
  transition:filter .15s ease, transform .15s ease;
}
.ad-cta:hover{ filter:brightness(1.08); }
.ad-cta:active{ transform:translateY(1px); }

@media (min-width: 900px){
  body{
    max-width: 480px;
    margin-inline:auto;
  }
}
    
  </style>
</head>
<body>
  <main class="page" role="main">
    <!-- 1) HEADER (partial) -->
    <div data-include="header.html"></div>

    <!-- TOP PROMO BANNER -->
<div id="top-banner" class="promo-banner" role="region" aria-label="Promo poruka">
  <div class="promo-inner container">
    <div id="top-banner-content" class="promo-content"></div>

    <button id="top-banner-close"
            class="promo-toggle"
            title="Zatvori reklamu">
      <span aria-hidden="true">✕</span>
    </button>
  </div>
</div>

    <!-- 2) HERO -->
    <section class="hero" aria-label="Hero">
      <div class="slides" aria-hidden="true">
        <div class="slide current"><div class="img" style="background-image:url('images/majstor-za-gradjevinske-radove.png')"></div></div>
        <div class="slide"><div class="img" style="background-image:url('images/usluga-vrsenja-iskopa-i-prijevoza-robe.png')"></div></div>
        <div class="slide"><div class="img" style="background-image:url('images/usluga-prijevoza-putnika-i-dostava-hrane.png')"></div></div>
        <div class="slide"><div class="img" style="background-image:url('images/fotograf-za-slikanje-vjencanja-i-krstenja.png')"></div></div>
        <div class="slide"><div class="img" style="background-image:url('images/automehanicar-za-popravak-vozila.png')"></div></div>
        <div class="slide"><div class="img" style="background-image:url('images/arhitekt-za-planiranje-zgrada-i-kuca.png')"></div></div>
        <div class="slide"><div class="img" style="background-image:url('images/keramicar-za-postavljanje-keramike.png')"></div></div>
        <div class="slide"><div class="img" style="background-image:url('images/graficki-dizajner-programer.png')"></div></div>
        <div class="slide"><div class="img" style="background-image:url('images/krojacica-i-stilistica.png')"></div></div>
        <div class="slide"><div class="img" style="background-image:url('images/majstor-za-instalacije-knauf-vodu-struju-grijanje.png')"></div></div>
      </div>

      <div class="duo-wrap">
        <div class="duo">
          <img src="images/stranica-za-trazim-uslugu-nudim-uslugu.png" alt="Dogovor: klijent i majstor — rukovanje" />
          <div class="cta-row">
            <a class="cta" id="btn-trazim" href="trazimuslugu.html">Tražim uslugu</a>
            <a class="cta" id="btn-nudim" href="profile.html">Nudim uslugu</a>
          </div>
        </div>
      </div>
    </section>

    <!-- 3) SLOGAN -->
    <section class="slogan" aria-label="Slogan">
      <p>Brzo, Jednostavno, Dogovoreno.</p>
    </section>

    <!-- 4) PROMOS (partial) -->
    <div data-include="promos.html"></div>
  </main>

  <!-- 5) FOOTER (partial) -->
  <div data-include="footer.html"></div>

  
<script src="include.js"></script>


  <script>
    // Slideshow
    (function(){
      const slides = Array.from(document.querySelectorAll('.slide'));
      let i = 0, DURATION = 4000;
      setInterval(()=>{
        const cur = slides[i];
        const nextI = (i + 1) % slides.length;
        const nxt = slides[nextI];
        nxt.classList.remove('leaving','current'); nxt.style.transform=''; nxt.style.opacity='';
        requestAnimationFrame(()=>{ cur.classList.remove('current'); cur.classList.add('leaving'); nxt.classList.add('current'); });
        const onEnd = ()=>{ cur.classList.remove('leaving','current'); cur.style.transform=''; cur.style.opacity=''; cur.removeEventListener('transitionend', onEnd); };
        cur.addEventListener('transitionend', onEnd, {once:true});
        i = nextI;
      }, DURATION);
    })();

    // CTA
document.getElementById('btn-trazim')?.addEventListener('click', e => {
  e.preventDefault();
  location.href = 'trazimuslugu.html';
});

function goToOfferGate(){
  const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
  if (isLoggedIn){
    location.href = 'nudimuslugu.html';
  } else {
    location.href = 'profile.html#login';
  }
}

document.getElementById('btn-nudim')?.addEventListener('click', e => {
  e.preventDefault();
  goToOfferGate();
});
(function(){
  // Tajming
  const OPEN_DELAY_MS = 5000;   // prva pojava nakon 5 s
  const ROTATE_MS     = 10000;  // rotacija svakih 10 s

  // Elementi
  const header    = document.querySelector('.site-header');
  const banner    = document.getElementById('top-banner');
  const contentEl = document.getElementById('top-banner-content');
  const btnClose  = document.getElementById('top-banner-close');

  // Poravnaj banner ispod headera
  function syncHeaderHeight(){
    const h = header ? header.offsetHeight : 56;
    document.documentElement.style.setProperty('--header-h', h + 'px');
  }
  syncHeaderHeight();
  window.addEventListener('resize', syncHeaderHeight);
  window.addEventListener('load', syncHeaderHeight);
  
  // 3 reklame (HTML sadržaj)
  const ADS = [
    `<div class="ad ad-1">
       <strong>💡 Istakni svoj profil</strong><br>
       Budi prvi na listi majstora u svojoj kategoriji. Više poziva = više poslova!<br>
       <a href="#" class="ad-cta">Saznaj više →</a>
     </div>`,
    `<div class="ad ad-2">
       <strong>📢 Promoviraj svoje usluge</strong><br>
       Tvoj oglas vidljiv na vrhu rezultata u tvom gradu i okolici.<br>
       <a href="#" class="ad-cta">Pokreni promociju →</a>
     </div>`,
    `<div class="ad ad-3">
       <strong>🔥 Objavi akcijsku ponudu</strong><br>
       Najavi sezonski popust ili vikend akciju i privuci nove klijente.<br>
       <a href="#" class="ad-cta">Objavi ponudu →</a>
     </div>`
  ];

  // Fisher-Yates shuffle
  function shuffle(arr){
    const a = arr.slice();
    for(let i=a.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [a[i],a[j]] = [a[j],a[i]];
    }
    return a;
  }

  let order = shuffle([0,1,2]); // nasumičan redoslijed
  let pos = 0;
  let rotateTimer = null;
  let reopenTimer = null;

  function setAd(){
    const adIdx = order[pos];
    contentEl.innerHTML = ADS[adIdx];
  }

  function nextAd(){
    pos = (pos + 1) % order.length;
    if (pos === 0) order = shuffle([0,1,2]); // svaki krug novi shuffle
  }

  function startRotation(){
    stopRotation();
    rotateTimer = setInterval(() => {
      nextAd();
      setAd();
    }, ROTATE_MS);
  }

  function stopRotation(){
    if (rotateTimer) clearInterval(rotateTimer);
  }

  // start nakon 5 s
  setTimeout(() => {
    setAd();
    banner.classList.add('open');
    startRotation();
  }, OPEN_DELAY_MS);

  // X klik
  btnClose.addEventListener('click', () => {
    banner.classList.remove('open');
    stopRotation();
    clearTimeout(reopenTimer);

    reopenTimer = setTimeout(() => {
      nextAd();
      setAd();
      banner.classList.add('open');
      startRotation();
    }, ROTATE_MS);
  });
})();

(function(){
  const HOLD_MS  = 10000;  // svaka reklama stoji 10 s
  const TRANS_MS = 450;    // trajanje slide animacije

  // čekaj da #bottom-ads bude ubačen iz promos.html
  function waitForViewport(cb, tries=0){
    const viewport = document.querySelector('#bottom-ads .ads-viewport');
    if (viewport) return cb(viewport);
    if (tries > 200) return; // odustani nakon ~10s (200*50ms)
    setTimeout(()=>waitForViewport(cb, tries+1), 50);
  }

  waitForViewport((viewport)=>{
    const ADS = [
      {
        href: "#istakni-profil",
        html: `<strong>💡 Istakni svoj profil</strong> — budi prvi u rezultatima u svojoj kategoriji. Više poziva = više poslova! <span class="ad-cta">Saznaj više →</span>`
      },
      {
        href: "#promoviraj-usluge",
        html: `<strong>📢 Promoviraj svoje usluge</strong> — tvoj oglas vidljiv na vrhu rezultata u tvom gradu. <span class="ad-cta">Pokreni promociju →</span>`
      },
      {
        href: "#objavi-akciju",
        html: `<strong>🔥 Objavi posebnu ponudu</strong> — najavi sezonski popust ili vikend akciju i privuci klijente. <span class="ad-cta">Objavi ponudu →</span>`
      }
    ];

    let i = 0, timer = null;

    function makeAd(ad, extra=''){
      const a = document.createElement('a');
      a.className = `ad-card ${extra}`.trim();
      a.href = ad.href;
      a.innerHTML = ad.html;
      a.setAttribute('aria-label', 'Reklama');
      return a;
    }

    function showFirst(){
      viewport.innerHTML = '';
      viewport.appendChild(makeAd(ADS[i]));
    }

    function slideNext(){
      const current = viewport.querySelector('.ad-card');
      i = (i + 1) % ADS.length;
      const next = makeAd(ADS[i], 'ad-enter');
      viewport.appendChild(next);

      requestAnimationFrame(()=>{
        current.classList.add('ad-leave','ad-animate'); // van udesno
        next.classList.add('ad-animate');               // s lijeva unutra
        setTimeout(()=>{ current && current.remove(); }, TRANS_MS);
      });
    }

    function startLoop(){
      clearInterval(timer);
      timer = setInterval(slideNext, HOLD_MS);
    }

    showFirst();
    startLoop();
  });
})();
    
  </script>
</body>
</html>
